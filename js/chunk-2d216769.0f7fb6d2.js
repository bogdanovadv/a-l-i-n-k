(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216769"],{c325:function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-10"},[e("h1",[t._v("Ссылки")]),e("hr"),e("br"),e("br"),t.showMessage?e("alert",{attrs:{message:t.message}}):t._e(),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.link-modal",modifiers:{"link-modal":!0}}],staticClass:"btn btn-success btn-sm",attrs:{type:"button"}},[t._v("Добавить ссылку")]),e("br"),e("br"),t.links.length>0?e("table",{staticClass:"table table-hover"},[t._m(0),e("tbody",t._l(t.links,(function(i,o){return e("tr",{key:o},[e("td",[e("a",{attrs:{href:i.original}},[t._v(t._s(i.original))])]),e("td",[e("a",{attrs:{href:i.short}},[t._v(t._s(i.short))])]),e("td",[e("a",{attrs:{href:i.friendly}},[t._v(t._s(i.friendly))])]),e("td",[t._v(t._s(i.type_id))]),e("td",[t._v(t._s(i.counter))]),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.link-update-modal",modifiers:{"link-update-modal":!0}}],staticClass:"btn btn-warning btn-sm",attrs:{type:"button"},on:{click:function(e){return t.editLink(i)}}},[t._v(" Обновить ")]),e("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.onDeleteLink(i)}}},[t._v(" Удалить ")])])])])})),0)]):t._e()],1)]),e("b-modal",{ref:"addLinkModal",attrs:{id:"link-modal",original:"Добавить новую ссылку","hide-footer":""}},[e("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[e("b-form-group",{attrs:{id:"form-original-group",label:"Ссылка:","label-for":"form-original-input"}},[e("b-form-input",{attrs:{id:"form-original-input",type:"text",required:"",placeholder:"Ссылка"},model:{value:t.addLinkForm.original,callback:function(i){t.$set(t.addLinkForm,"original",i)},expression:"addLinkForm.original"}})],1),e("b-form-group",{attrs:{id:"form-friendly-group",label:"Псевдоним:","label-for":"form-friendly-input"}},[e("b-form-input",{attrs:{id:"form-friendly-input",type:"text"},model:{value:t.addLinkForm.friendly,callback:function(i){t.$set(t.addLinkForm,"friendly",i)},expression:"addLinkForm.friendly"}})],1),e("b-form-group",{attrs:{id:"form-read-group"}},[e("b-form-select",{attrs:{id:"type_id",options:t.addLinkForm.options},model:{value:t.addLinkForm.type_id,callback:function(i){t.$set(t.addLinkForm,"type_id",i)},expression:"addLinkForm.type_id"}})],1),e("b-button-group",[e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Сохранить")]),e("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Отмена")])],1)],1)],1),e("b-modal",{ref:"editLinkModal",attrs:{id:"link-update-modal",original:"Update","hide-footer":""}},[e("b-form",{staticClass:"w-100",on:{submit:t.onSubmitUpdate,reset:t.onResetUpdate}},[e("b-form-group",{attrs:{id:"form-original-edit-group",label:"Ссылка:","label-for":"form-original-edit-input"}},[e("b-form-input",{attrs:{id:"form-original-edit-input",type:"text"},model:{value:t.editForm.original,callback:function(i){t.$set(t.editForm,"original",i)},expression:"editForm.original"}})],1),e("b-form-group",{attrs:{id:"form-short-edit-group",label:"Короткая ссылка:","label-for":"form-short-edit-input"}},[e("b-form-input",{attrs:{id:"form-short-edit-input",type:"text"},model:{value:t.editForm.short,callback:function(i){t.$set(t.editForm,"short",i)},expression:"editForm.short"}})],1),e("b-form-group",{attrs:{id:"form-friendly-group",label:"Псевдоним:","label-for":"form-friendly-input"}},[e("b-form-input",{attrs:{id:"form-friendly-input",type:"text"},model:{value:t.editForm.friendly,callback:function(i){t.$set(t.editForm,"friendly",i)},expression:"editForm.friendly"}})],1),e("b-form-group",{attrs:{id:"form-read-group"}},[e("b-form-select",{attrs:{id:"type_id",options:t.addLinkForm.options},model:{value:t.editForm.type_id,callback:function(i){t.$set(t.editForm,"type_id",i)},expression:"editForm.type_id"}})],1),e("b-button-group",[e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Сохранить")]),e("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Отмена")])],1)],1)],1)],1)},r=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Ссылка")]),e("th",{attrs:{scope:"col"}},[t._v("Короткая ссылка")]),e("th",{attrs:{scope:"col"}},[t._v("Псевдоним")]),e("th",{attrs:{scope:"col"}},[t._v("Доступ")]),e("th",{attrs:{scope:"col"}},[t._v("Просмотры")]),e("th")])])}],n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("b-alert",{attrs:{variant:"success",show:""}},[t._v(t._s(t.message))]),e("br")],1)},a=[],s={props:["message"]},d=s,l=e("2877"),m=Object(l["a"])(d,n,a,!1,null,null,null),u=m.exports,f=(e("bc3a"),e("365c")),c={name:"Links",data:function(){return{links:[],addLinkForm:{original:"",short:"",friendly:"",type_id:"1",options:[{text:"Общий доступ",value:"1"},{text:"Публичный",value:"2"},{text:"Приватный",value:"3"}]},message:"",showMessage:!1,editForm:{id:"",original:"",short:"",friendly:"",type_id:"1",options:[{text:"Общий доступ",value:"1"},{text:"Публичный",value:"2"},{text:"Приватный",value:"3"}]}}},components:{alert:u},methods:{getLinks:function(){var t=this;f["a"].get("/links").then((function(i){t.links=i.data,console.log(i.data)})).catch((function(t){console.error(t)}))},addLink:function(t){var i=this;f["a"].post("/add-link",t).then((function(){i.getLinks(),i.message="Ссылка добавлена!",i.showMessage=!0})).catch((function(t){console.log(t),i.getLinks()}))},initForm:function(){this.addLinkForm.original="",this.addLinkForm.short="",this.addLinkForm.friendly="",this.addLinkForm.type_id="1",this.addLinkForm.options=[{text:"Общий доступ",value:"1"},{text:"Публичный",value:"2"},{text:"Приватный",value:"3"}],this.editForm.id="",this.editForm.original="",this.editForm.short="",this.editForm.friendly="",this.editForm.type_id="1",this.editForm.options=[{text:"Общий доступ",value:"1"},{text:"Публичный",value:"2"},{text:"Приватный",value:"3"}]},onSubmit:function(t){t.preventDefault(),this.$refs.addLinkModal.hide();var i={original:this.addLinkForm.original,short_link:this.addLinkForm.short,friendly_link:this.addLinkForm.friendly,type_id:this.addLinkForm.type_id};this.addLink(i),this.initForm()},onReset:function(t){t.preventDefault(),this.$refs.addLinkModal.hide(),this.initForm()},editLink:function(t){this.editForm=t,this.editForm.friendly=""},onSubmitUpdate:function(t){t.preventDefault(),this.$refs.editLinkModal.hide();var i={friendly_link:this.editForm.friendly,type_id:this.editForm.type_id};this.updateLink(i,this.editForm.id)},updateLink:function(t,i){var e=this;f["a"].put("/links/"+i,t).then((function(){e.getLinks(),e.message="Ссылка обновлена!",e.showMessage=!0})).catch((function(t){console.error(t),e.getLinks()}))},onResetUpdate:function(t){t.preventDefault(),this.$refs.editLinkModal.hide(),this.initForm(),this.getLinks()},removeLink:function(t){var i=this;f["a"].delete("/links/"+t).then((function(){i.getLinks(),i.message="Ссылка удалена!",i.showMessage=!0})).catch((function(t){console.error(t),i.getLinks()}))},onDeleteLink:function(t){this.removeLink(t.id)}},created:function(){this.getLinks()}},p=c,h=Object(l["a"])(p,o,r,!1,null,null,null);i["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d216769.0f7fb6d2.js.map